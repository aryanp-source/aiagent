startCommand:
  type: stdio
  configSchema:
    type: object
    properties:
      replicateApiToken:
        type: string
        description: "Your Replicate API token"
        format: "password"  # This ensures the token is treated as sensitive
    required: ["replicateApiToken"]
  commandFunction: |
    function getCommand(config) {
      return {
        command: "node",
        args: ["build/index.js"],
        env: {
          REPLICATE_API_TOKEN: config.replicateApiToken
        }
      };
    } 